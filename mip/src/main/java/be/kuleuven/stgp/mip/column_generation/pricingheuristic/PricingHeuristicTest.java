package be.kuleuven.stgp.mip.column_generation.pricingheuristic;

import be.kuleuven.stgp.core.model.Problem;

import java.io.IOException;
import java.util.Random;

/**
 * Created by Jan on 3-3-2016.
 */
public class PricingHeuristicTest {

	public static void main(String[] args) {

		Problem problem = null;
		try {
			problem = new Problem("../data/flanders-u17.prob");
		} catch (IOException e) {
			e.printStackTrace();
		}

		PricingHeuristicImpl ph = new PricingHeuristicImpl(problem);
		CliqueManager cm = ph.getCliqueManager();
		//double[] gamma={20.8, 17.59999999999999, 2.3583333333333307, 2.3083333333333265, 17.44999999999999, 6.783333333333328, 9.599999999999994, 10.30833333333333, 8.76666666666668, 44.400000000000006, 38.8, 13.600000000000001, 34.0, 19.383333333333344, 12.95000000000001, 10.0, 20.0, 21.2, 18.999999999999996, 21.66666666666666, 13.599999999999998, 25.000000000000004, 5.449999999999996, 24.95000000000001, 21.2, 21.200000000000003, 30.000000000000007, 25.2, 3.0250000000000163, 13.600000000000003, 15.2, 5.350000000000005, 12.600000000000005, 12.71666666666668, 18.666666666666668, 21.166666666666675, 10.999999999999996, 9.600000000000001, 8.000000000000004, 16.0, 17.6, 13.2, 25.2, 12.600000000000005, 11.599999999999994, 23.2, 28.39999999999999, 14.249999999999986, 15.38333333333334, 3.3833333333333435, 7.3833333333333435, 9.2, 8.0, 11.2, 2.0, 24.0, 22.0, 11.149999999999999, 24.85000000000001, 25.14999999999999, 6.0, 11.149999999999999, 17.15, 38.0, 13.449999999999996, 12.30833333333333, 15.233333333333334, 33.53333333333332, 10.30833333333333, 2.30833333333333, 9.233333333333334, 9.941666666666677, 10.850000000000009, 8.30833333333333, 23.44999999999999, 2.30833333333333, 22.30833333333333, 18.30833333333333, 10.683333333333309, 6.9999999999999964, 20.08333333333338, 10.683333333333309, 5.166666666666671, 13.666666666666657, 13.449999999999996, 16.71666666666668, 10.716666666666683, 7.449999999999985, 11.38333333333334, 10.666666666666668, 7.166666666666671, 13.999999999999996, 17.999999999999993, 44.0, -6.0, 8.000000000000014, 10.0, 8.0, 2.0, 13.599999999999994, 23.2, 16.000000000000004, 8.799999999999997, 12.600000000000005, 10.249999999999979, 13.600000000000003, 5.199999999999996, 11.599999999999994, 8.249999999999986, 9.233333333333334, 23.150000000000006, 16.76666666666668, 25.2, 13.94166666666667, 32.85000000000001, 17.350000000000005, 0.05000000000000426, 5.449999999999996, 18.30833333333333, 12.71666666666668, 23.44999999999999, 23.99999999999999, 33.999999999999986, 8.666666666666668, 9.999999999999996, 18.0, 2.0, 2.0, 15.999999999999996, 8.666666666666668};
		double[] gamma = {28.68235294117651, 17.600000000000016, 13.416176470588226, 1.4161764705882316, 7.8352941176470665, 3.835294117647038, 9.599999999999994, 6.335294117647097, 11.776470588235268, 30.46764705882353, 33.10000000000001, 13.6, 28.62941176470588, 19.1, 12.100000000000001, 8.629411764705878, 22.0, 21.482352941176487, 15.100000000000001, 19.416176470588226, 13.599999999999994, 26.416176470588233, 4.629411764705878, 24.1, 13.599999999999994, 18.732352941176458, 31.416176470588233, 25.2, 5.416176470588226, 13.59999999999999, 15.2, 4.217647058823509, 12.600000000000001, 12.629411764705878, 27.416176470588226, 21.1, 12.416176470588232, 9.600000000000001, 9.099999999999998, 15.599999999999994, 17.6, -3.3176470588234963, 25.2, 12.600000000000001, 11.599999999999994, 22.917647058823512, 36.967647058823545, 15.100000000000001, 11.100000000000001, 3.1000000000000014, 7.100000000000001, 9.2, 14.629411764705878, 11.2, 0.6294117647058783, 22.62941176470588, 8.629411764705878, 11.433333333333335, 24.62941176470588, 25.433333333333337, 15.482352941176487, 11.433333333333335, 17.433333333333337, 36.62941176470588, 12.629411764705885, 9.482352941176487, 20.62941176470588, 14.629411764705878, 7.482352941176494, 1.4823529411764937, 14.629411764705878, 16.237254901960796, 10.629411764705878, 8.629411764705873, 21.02156862745096, 1.7764705882352683, 19.416176470588226, 16.335294117647095, 12.100000000000001, 19.599999999999994, 12.09999999999998, 18.100000000000023, 10.416176470588226, 18.967647058823545, 12.629411764705878, 15.416176470588226, 18.967647058823545, 3.100000000000005, 12.96764705882353, 9.416176470588233, 7.100000000000001, 20.33529411764708, 19.416176470588233, 34.0, 12.0, 14.0, 10.0, 4.0, 2.0, 17.59999999999998, 22.099999999999998, 25.64999999999999, 25.599999999999994, 12.600000000000001, 15.100000000000001, 13.59999999999999, 5.199999999999996, 11.599999999999994, 9.100000000000001, 14.629411764705878, 31.482352941176487, 19.482352941176494, 25.482352941176487, 18.62941176470587, 32.62941176470588, 16.217647058823502, 0.10000000000002274, 4.629411764705878, 15.416176470588226, 14.438235294117668, 8.548529411764683, 18.335294117647095, 26.0, -0.5838235294117737, 6.0, 18.0, 2.0, 2.0000000000000004, 11.416176470588221, 11.416176470588226};
//		ph.solve(gamma);

		cm.setSolving(true);
		cm.updateGamma(gamma);

		PricingLeague league = new PricingLeague(problem, cm, cm.getTeamClique(32));
		league.addClique(cm.getTeamClique(43));
		league.addClique(cm.getTeamClique(44));
		league.addClique(cm.getTeamClique(103));
		league.addClique(cm.getTeamClique(108));
		System.out.println(league + "\n");

		league = new PricingLeague(problem, cm, cm.getTeamClique(31));
		league.addClique(cm.getTeamClique(32));
		league.addClique(cm.getTeamClique(43));
		league.addClique(cm.getTeamClique(103));
		league.addClique(cm.getTeamClique(108));
		System.out.println(league + "\n");

		league = new PricingLeague(problem, cm, cm.getTeamClique(23));
		league.addClique(cm.getTeamClique(32));
		league.addClique(cm.getTeamClique(43));
		league.addClique(cm.getTeamClique(44));
		league.addClique(cm.getTeamClique(103));
		System.out.println(league + "\n");


	}

}
